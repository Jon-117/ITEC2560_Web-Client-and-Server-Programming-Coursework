<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lister</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

<div class="row mx-5" id="to-do-div">

    <div class="col-sm-5">
        <p>To Do</p><br>
        <label>
            <input type="text" id='to-do-input'>
        </label>
        <button id='to-do-button'>Add</button>
        <button id='to-do-clear'>Clear</button>
        <ul id="to-do-list"></ul>
    </div>
    <!-- Separate lists -->
    <div class="col-sm-5" id="not-to-do-div">
        <p>Not To Do</p><br>
        <label>
            <input type="text" id='not-to-do-input'>
        </label>
        <button id='not-to-do-button'>Add</button>
        <button id='not-to-do-clear'>Clear</button>

        <ul id="not-to-do-list"></ul>
    </div>

</div>
<script>

let toDoInput = document.querySelector('#to-do-input')
let notToDoInput = document.querySelector('#not-to-do-input')
let toDoAdd = document.querySelector('#to-do-button')
let notToDoAdd = document.querySelector('#not-to-do-button')
let toDoList = document.querySelector('#to-do-list')
let notToDoList = document.querySelector('#not-to-do-list')
let clearToDo = document.querySelector('#to-do-clear')
let clearNotToDo = document.querySelector('#not-to-do-clear')
let toDoDiv = document.querySelector('#to-do-div')
let notToDoDiv = document.querySelector('#not-to-do-div')

let toDoQuantity = 0
let notToDoQuantity = 0

document.addEventListener('keyup', function (event){
    if (event.code === 'Enter') {
        if (document.activeElement.id === 'to-do-input') {
            toDoAdd.click()
        }
        if (document.activeElement.id === 'not-to-do-input') {
            document.getElementById('not-to-do-button').click()
        }
    }
})

toDoAdd.addEventListener('click',function (){

    // read the text input
    let newText = toDoInput.value
    // validate text is entered
    if (newText.length !== 0) {

        if (toDoQuantity < 10) {

            console.log("To Do: " + newText)
            // create remove button
            let removeButton = document.createElement('button')
            removeButton.innerHTML = "Remove"
            // create new li element
            let newToDoListItem = document.createElement('li')
            // assign li text to the input value
            newToDoListItem.innerHTML = newText
            // add removeButton to new item
            newToDoListItem.append(removeButton)
            toDoList.append(newToDoListItem)
            // clear input text box
            toDoInput.value = ""
            // increase list item quantity
            toDoQuantity++
            // event listener for remove button
            removeButton.addEventListener('click', function(){
                newToDoListItem.remove()
            })

            // refocus to input
            toDoInput.focus()
        } else {
            alert("You're doing too much. Tackle what you have before adding more tasks. ")
        }

    } else { alert("Input is empty. Try again. ")

    }


})

notToDoAdd.addEventListener('click',function (){



    if (notToDoQuantity < 10) {
        let newText = notToDoInput.value
        console.log("Not To Do: " + newText)
        let newToDoListItem = document.createElement('li')
        newToDoListItem.innerHTML = newText
        notToDoList.appendChild(newToDoListItem)
        notToDoInput.value = ""
        notToDoQuantity++
        notToDoInput.focus()
    } else {
        alert("You're being too restrictive. Live a little. ")
    }

})

// clear button event listeners

clearToDo.addEventListener('click',function (){
    toDoList.innerHTML = "" // clear list
    toDoQuantity = 0 // reset list quantity
})
clearNotToDo.addEventListener('click',function (){
    notToDoList.innerHTML = ""
    notToDoQuantity = 0
})

</script>


</body>
</html>